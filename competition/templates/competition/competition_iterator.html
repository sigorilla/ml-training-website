{% load i18n %}
<div class="competition-list">
{% for competition in competitions %}
    <div class="media competition-item" data-id="{{ competition.id }}">
        <div class="media-left">
            <a href="{{ competition.link }}">
                <img src="{{ competition.image }}" alt="Logo" class="media-object" style="width: 150px;">
            </a>
        </div>
        <div class="media-body">
            <h4 class="media-heading competition-title">
                <a href="{{ competition.link }}" target="_blank">{{ competition.title }}</a>
            </h4>
            <div class="competition-date">{% trans "start date" %}: {{ competition.start_date|date }}</div>
            <div class="competition-date">{% trans "entry deadline" %}: {{ competition.entry_deadline|date }} ({% trans "remaining" %} {{ competition.entry_deadline|timeuntil }})</div>
            <div class="competition-date">{% trans "submission deadline" %}: {{ competition.submission_deadline|date }} ({% trans "remaining" %} {{ competition.submission_deadline|timeuntil }})</div>
            <div class="competition-date">{% trans "finish date" %}: {{ competition.finish_date|date }} ({% trans "remaining" %} {{ competition.finish_date|timeuntil }})</div>
            <div>
                {{ competition.content|safe }}
                {% if competition.links.all %}
                    <div>{% trans "Materials" %}:</div>
                    <ul>
                    {% for link in competition.links.all %}
                        <li>
                            <a href="{{ link.href }}" target="{{ link.target }}">{{ link.title }}</a>
                        </li>
                    {% endfor %}
                    </ul>
                {% endif %}
            </div>
        </div>
    </div>
{% empty %}
    <div class="jumbotron">
        <h1>{% trans "Oops, no competitions found" %}</h1>
    </div>
{% endfor %}
</div>

{% if is_paginated %}
<div class="text-center">
    <ul class="pagination">
        {% for num in paginator.page_range %}
            {% ifequal num page_obj.number %}
                <li class="active"><a>{{ num }}</a></li>
            {% else %}
                <li><a href="?page={{ num }}">{{ num }}</a></li>
            {% endifequal %}
        {% endfor %}
    </ul>
</div>
{% endif %}
